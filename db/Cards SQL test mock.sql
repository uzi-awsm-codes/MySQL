create database sqlTest;

use sqlTest;

create table CUSTOMER_MASTER
(
	CUSTOMER_ID Varchar(10),
	CUSTOMER_NAME Varchar(30) NOT NULL,
	CONTACT_NO BIGINT(20),
	CONTACT_ADD Varchar(100),
	DATE_OF_REGISTRATION Date NOT NULL,
	AGE Varchar(15)NOT NULL,
	Constraint MT_cts1 PRIMARY KEY(CUSTOMER_ID)
);


Create table MOVIES_MASTER
(
	MOVIE_ID Varchar(10),	
	MOVIE_NAME Varchar(80) NOT NULL,
	RELEASE_DATE Varchar(30) NOT NULL,
	LANGUAGE Varchar(30),
	RATING int(2),
	DURATION_In_Minutes VARCHAR(10) NOT NULL,	
	MOVIE_TYPE Varchar(100),
	MOVIE_CATEGORY VARCHAR(40) NOT NULL,
	DIRECTOR VARCHAR(60) NOT NULL,		
	LEAD_Actor_name1 Varchar(50) NOT NULL,
	LEAD_Actor_name2 VARCHAR(60) NOT NULL,
	RENTAL_COST BIGINT(10),
	Constraint MT_cts4 PRIMARY KEY(MOVIE_ID)	
);

Create table CUSTOMER_ISSUE_DETAILS
(
	ISSUE_ID Varchar(10) NOT NULL,
	CUSTOMER_ID Varchar(10) NOT NULL,
	MOVIE_ID VARCHAR(10),	
	ISSUE_DATE Date NOT NULL,
	RETURN_DATE Date NOT NULL,
        ACTUAL_DATE_RETURN Date NOT NULL,
	Constraint MT_cts5 PRIMARY KEY(ISSUE_ID),
        Constraint MT_Mem FOREIGN KEY(CUSTOMER_ID) References CUSTOMER_MASTER(CUSTOMER_ID),
        Constraint MT_Mem1 FOREIGN KEY(MOVIE_ID) References MOVIES_MASTER(MOVIE_ID)

);

Create table LIBRARY_CARD_MASTER
(
	CARD_ID Varchar(10),
	DESCRIPTION Varchar(30) NOT NULL,
	AMOUNT	BIGINT(50),
	NUMBER_OF_YEARS bigint(10) NOT NULL,
	Constraint MT_cts2 PRIMARY KEY(CARD_ID)
);

Create table CUSTOMER_CARD_DETAILS
(
	CUSTOMER_ID Varchar(10),
	CARD_ID VARCHAR(10),
	ISSUE_DATE DATE NOT NULL,
	Constraint MT_cts3 PRIMARY KEY(CUSTOMER_ID),
	Constraint MT_CTS41 FOREIGN KEY(CUSTOMER_ID) References CUSTOMER_MASTER(CUSTOMER_ID),
        Constraint MT_CTS42 FOREIGN KEY(CARD_ID) References LIBRARY_CARD_MASTER(CARD_ID)
);


insert into customer_master values 
('C00001','	NITIN	','9830354218','	A/122, KALKAJI','	2012-10-15',	22),
('C00002','	AGNESH	','8923156781',	'9/1,ANDHERI EAST','	2012-11-01',	35),
('C00003','	T RAMACHANDRAN','	9831289761','	9/1,NANDABAKKAM','	2012-11-02',	25),
('C00004'	,'RAJIB MITRA'	,'9830356781','	H/56, BLOCK1,JADAVPUR','	2012-11-21',	45),
('C00005','	SHIV PRASAD',	NULL,'	2/2 PHASE II JAWAHAR NAGAR'	,'2012-12-25',	30),
('C00006',	'AJAY GHOSH'	,'8763478901'	,'N/2,GANDHI COLONY DUM DUM',	'2012-12-30'	,20),
('C00007',	'GEETHA REDDY'	,'8976167890','	AH 1/1 T NAGAR'	,'2012-12-31'	,30),
('C00008',	'RIA NATRAJAN'	,'9856723190'	,'A/B GANDHI COLONY'	,'2013-01-01'	,45),
('C00009',	'RAJAN PILLAI'	,NULL,'	A 1/66 KODAMBAKKAM	','2013-01-02',	40),
('C00010',	'RAGHAV SINGH',	'9675167890'	,'A/6 NEHRU JAWAHAR NAGAR',	'2013-03-02'	,50),
('C00011',	'RAJ SEKHANRAN','	8423178906'	,'A/1 MAYUR KUNJ'	,'2013-03-15'	,25);


insert into movies_master values 
('M00001','	DIE HARD','	1998	','ENGLISH	',4	,120	,'UNIVERSAL','	ACTION',	
'JOHN MCTIERNAN'	,'BRUCE WILLIS'	,'BONNIE BEDELIA'	,100),

('M00002','	THE DARK KNIGHT','	2008','	ENGLISH',	5	,90	,'PARENTAL GUIDENCE','	ACTION','	
CHRISTOPHER NOLAN'	,
'CHRISTIAN BALE','HEALTH LEDGER',	100),

('M00003','	THE MATRIX',	1999,'	ENGLISH',	4,	120,'	UNIVERSAL','	ACTION','	ANDY LARRY','	KEANU REEVES	',
'CARRIE-ANEE MOSS',	100),

('M00004','	INCEPTION',	2010	,'ENGLISH	',5	,120,'	PARENTAL GUIDENCE	','ACTION',	
'CHRISTOPHER NOLAN',	'LEONARDO DICAPRIO','	JOSEPH GORDAN'	,100),

('M00005','OFFICE SPACE',	1999	,'ENGLISH',	4,	95	,'UNIVERSAL	','COMEDY	',
'MIKE JUDGE','	RON LIVINGSTON','	JENNIFER ANISTON	',100),

('M00006	','YOUNG FRANKENSTEIN','	1974','	ENGLISH',	4	,130,'	UNIVERSAL','	COMEDY',	
'MEL BROOKS','	GENE WILDER','	TERI GARR',	100),

('M00007','	SHAUN OF THE DEAD',	2004	,'ENGLISH',	4	,95,'	UNIVERSAL',	'COMEDY',	
'EDGAR WRIGHT','	SIMON PEGG	','KATE ASHFIELD'	,100),

('M00008','	CASABLANCA',	1942,'	ENGLISH',	3,	120	,'UNIVERSAL','	ROMANCE','	MICHAEL 
CURTIZ','	HUMPREY BOGART','	INGRID BERGMAN',	1000),

('M00009	','THE NOTEBOOK',	2004	,'ENGLISH',	3	,120	,'PARENTAL GUIDENCE','	ROMANCE	',
'NICK CASSAVETES','	RYAN GOSLING','	RACHEL MCADAMS',	100),

('M00010	','GONE WITH THE WIND	',1939	,'ENGLISH',	3	,120,'	PARENTAL GUIDENCE	','ROMANCE',	
'VICTOR FLEMMING',	'CLARK GABLE','	VIVIEN LEIGH	',100),

('M00011	','TITANIC',	1997	,'ENGLISH	',3	,120	,'PARENTAL GUIDENCE','	ROMANCE'	
,'JAMES CAMERON','	LEONARDO DICAPRIO	','KATE WINSLET',	100);

insert into customer_issue_details values
('I00001','C00001','M00001','2012-10-15','2012-10-17','2012-10-17');
insert into customer_issue_details values('I00002',	'C00002','M00002','2012-11-02'	,'2012-11-04','2012-11-05');
insert into customer_issue_details values
('I00003','C00002','M00002','2012-12-02','2012-12-04','2012-12-03');
insert into customer_issue_details values('I00004','C00003','M00003','2012-11-02','2012-11-04','2012-11-10');
insert into customer_issue_details values('I00005','C00003','M00004','2012-11-10',
'2012-11-12','2012-11-12');
insert into customer_issue_details values('I00006','C00003','M00005',
'2012-11-12','2012-11-14','2012-11-14');
insert into customer_issue_details values('I00007','C00004','M00006	','2012-11-21',
'2012-11-23','2012-11-24');
insert into customer_issue_details values('I00008','C00010','M00008','2013-03-02',
'2013-03-04','2013-03-05');
insert into customer_issue_details values('I00009','C00011','M00010	','2013-03-16','2013-03-18','2013-03-18');
insert into customer_issue_details values('I00010','C00004'	,'M00007',
'2012-11-25','2012-11-27','2012-11-27');

insert into customer_issue_details values('I00011','C00004'	,'M00007','2012-11-28',
'2012-11-30','2012-11-30');
insert into customer_issue_details values('I00012','C00001','M00001','2013-11-28','2013-11-30',
'2013-11-30');
insert into customer_issue_details values('I00013','C00003','M00001','2012-12-03','2012-12-05',
'2012-12-05');
insert into customer_issue_details values('I00014','C00003','M00010	','2013-01-02','2013-01-04'
,'2013-01-05');

insert into customer_issue_details values('I00015','C00003','M00011	','2013-02-03','2013-02-05',
'2013-02-06');

insert into customer_issue_details values('I00016','C00003','M00011	','2013-03-05','2013-03-07'
,'2013-03-07');

insert into customer_issue_details values('I00017','C00003','M00008','2013-04-15','2013-04-17'
,'2013-04-17');

insert into customer_issue_details values('I00018','C00002','M00010	','2015-01-15','2015-01-17'
,'2015-01-17');

insert into customer_issue_details values('I00019','C00004','M00001','2012-11-15	','2012-11-17','2012-11-17');

insert into  library_card_master values
('CRD001',	'SILVER CARD'	,1000,	1),
('CRD002',	'GOLD CARD	',2000	,2),
('CRD003',	'PLATINUM CARD'	,3000,	3),
('CRD004',	'DIAMOND CARD',	4000	,5);


Insert into CUSTOMER_CARD_DETAILS Values('C00001','CRD001','2012-05-13');
Insert into CUSTOMER_CARD_DETAILS Values('C00002','CRD002','2012-05-13');
Insert into CUSTOMER_CARD_DETAILS Values('C00003','CRD002','2013-05-13');
Insert into CUSTOMER_CARD_DETAILS Values('C00004','CRD003','2013-05-13');
Insert into CUSTOMER_CARD_DETAILS Values('C00005','CRD003','2012-05-13');


